/*! Yapp - v0.0.1
The MIT License (MIT)
Copyright (c) 2015 Tanveer Karim
http://www.tkarimdesign.com/
*/
var yapp=function(){"use strict";var a={};a.opts={scrollMod:200,mobileBreakpoint:1024,contW:100,contH:100/3,contOverflow:"hidden",imgW:100,imgH:100,imgPosTop:"-50vh",imgPosBottom:"",bgSize:"cover",posAbs:"absolute",posRel:"relative"},a.yappContainerBlocks=document.querySelectorAll("[data-yapp-img]"),a.yappImgBlock=[],a.yappImgBottom="",a.yappImgTop="",a.yappImgPos="";var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;return a.ticking=!1,a.setupContainer=function(){for(var b=0;b<a.yappContainerBlocks.length;b++){var c=a.yappContainerBlocks[b],d=c.getAttribute("data-yapp-img"),e={contH:c.getAttribute("data-yapp-height")};a.setupContainerStyle(c,e),a.setupImg(d,c)}return this},a.setupContainerStyle=function(b,c){return b.style.width=a.opts.contW+"vw",b.style.height=c.contH?c.contH:a.opts.contH+"vh",b.style.overflow=a.opts.contOverflow,b.style.position=a.opts.posRel,this},a.setupImg=function(b,c){var d=document.createElement("div");return a.setupImgStyle(d,b),c.appendChild(d),a.yappImgBlock.push(d),this},a.setupImgStyle=function(b,c){return b.style.background="url("+c+") center center no-repeat",b.style.width=a.opts.imgW+"vw",b.style.height=a.opts.imgH+"vh",b.style.backgroundSize=a.opts.bgSize,b.style.position=a.opts.posAbs,b.style.top=a.opts.imgPosTop,b.style.bottom=a.opts.imgPosBottom,this},a.yappScroll=function(){for(var b=0;b<a.yappContainerBlocks.length;b++){var c=a.yappContainerBlocks[b];a.yappImgBottom=c.getBoundingClientRect().bottom,a.yappImgTop=c.getBoundingClientRect().top,a.yappImgPos=-((a.yappImgBottom-window.outerHeight)/window.outerHeight)*a.opts.scrollMod;var d=a.yappImgBlock[b];a.yappImgTop<=window.outerHeight&&a.yappImgBottom>=0&&a.yappImgPos<a.opts.scrollMod&&window.matchMedia("(min-width: "+a.opts.mobileBreakpoint+"px)").matches&&("transform"in d.style?d.style.transform="translate3d(0px,"+a.yappImgPos+"px, 0px)":"mozTransform"in d.style?d.style.mozTransform="translate3d(0px,"+a.yappImgPos+"px, 0px)":"msTransform"in d.style?d.style.msTransform="translate3d(0px,"+a.yappImgPos+"px, 0px)":"oTransform"in d.style?d.style.oTransform="translate3d(0px,"+a.yappImgPos+"px, 0px)":"webkitTransform"in d.style&&(d.style.webkitTransform="translate3d(0px,"+a.yappImgPos+"px, 0px)"))}return a.ticking=!1,this},a.requestTick=function(){return a.ticking||(b(a.yappScroll.bind(a)),a.ticking=!0),this},a.init=function(){return a.setupContainer(),a.yappScroll(),window.addEventListener("scroll",a.requestTick,!1),this},a.init(),a}();